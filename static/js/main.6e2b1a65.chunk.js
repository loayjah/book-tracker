(this["webpackJsonpbook-tracker-app"]=this["webpackJsonpbook-tracker-app"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(13),r=n.n(o),s=(n(19),n(5)),i=n(6),l=n(7),u=n(9),b=n(8),h=(n.p,n(20),n(1)),d=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("header",{className:"title-header",children:[Object(h.jsxs)("div",{className:"title-container",children:[Object(h.jsx)("h1",{className:"page-title",children:"The Booklet"}),Object(h.jsx)("p",{className:"page-subtitle",children:"Your best book tracker app!"})]}),Object(h.jsx)("div",{className:"bottom-right"}),Object(h.jsx)("div",{className:"bottom-left"})]})}}]),n}(a.Component),j=n(22),f=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).isSelected=function(e,t){return t===e?"true":void 0},e.authorTitle=function(e){var t="";return e.length>0&&(t+="By "+e[0]),e.length>1&&(t+=", et al."),t},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.books,a=t.onChangeShelf,c=t.booksInShelves;return Object(h.jsx)("div",{className:"list-items-grid",children:n.map((function(t,n){if(!j(t,"title"))return Object(h.jsx)("div",{});var o=t;if(c){var r=c.filter((function(e){return e.id===t.id}))[0];void 0!==r&&(o=r)}var s={thumbnail:j(o,"imageLinks.thumbnail")?o.imageLinks.thumbnail:"",authors:j(o,"authors")?e.authorTitle(o.authors):""};return Object(h.jsx)("div",{className:"list-item",children:Object(h.jsxs)("div",{className:"book-info-container",children:[Object(h.jsxs)("div",{className:"info-wrapper",children:[Object(h.jsx)("img",{className:"book-img",src:s.thumbnail}),Object(h.jsxs)("div",{className:"book-header",children:[Object(h.jsx)("h3",{className:"book-title",children:o.title}),Object(h.jsx)("p",{className:"book-rating",children:o.averageRating})]}),Object(h.jsx)("p",{className:"book-author",children:s.authors})]}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)("form",{children:Object(h.jsxs)("select",{onChange:function(e){return a(e,o)},className:"select-form",name:"labels",id:"lables",children:[Object(h.jsx)("option",{value:"none",selected:e.isSelected("none",o.shelf),children:"None"}),Object(h.jsx)("option",{value:"currentlyReading",selected:e.isSelected("currentlyReading",o.shelf),children:"Currently reading"}),Object(h.jsx)("option",{value:"wantToRead",selected:e.isSelected("wantToRead",o.shelf),children:"Want to read"}),Object(h.jsx)("option",{value:"read",selected:e.isSelected("read",o.shelf),children:"Read"})]})}),Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("p",{children:o.shelf})," "]})]})]})},n)}))})}}]),n}(a.Component),O=n(4),m=n(14);function p(e){var t=[{All:"all","Currently reading":"currentlyReading","Want to read":"wantToRead",Read:"read"}],n=t.map((function(e){return Object.keys(e)}))[0],c=Object(a.useState)(Object.keys(t[0]).find((function(n){return t[0][n]===e.currentTab}))),o=Object(O.a)(c,2),r=o[0],s=o[1],i=Object(m.a)(n,r),l=Object(O.a)(i,2),u=l[0],b=l[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"nav-tabs-container",children:[Object(h.jsx)("div",{className:"tab-bottom-line",style:{left:"calc((100% / ".concat(n.length,") * ").concat(n.findIndex((function(e){return e===u})),")"),width:"calc(100% / ".concat(n.length,")")}}),Object(h.jsx)("div",{className:"tab-links",children:n.map((function(n){return Object(h.jsx)("a",{className:"link",style:{color:u===n?"green":"black",background:u===n?"#e9e0d3":"#FAF8F5"},onClick:function(a){return r!==n?function(n,a){n.preventDefault();var c=n.target.dataset.tab;"string"===typeof c&&(b(c),s(a),"All"===a?document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#e9e0d3":"Read"===a?document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#e9e0d3":(document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#FAF8F5",document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#FAF8F5"),e.onClickNav(t[0][a]))}(a,n):function(){}},"data-tab":n,children:n},n)}))})]})})}var v=n(10),k="https://reactnd-books-api.udacity.com",g=localStorage.token;g||(g=localStorage.token=Math.random().toString(36).substr(-8));var x={Accept:"application/json",Authorization:g},y=function(e,t){return fetch("".concat(k,"/books/").concat(e.id),{method:"PUT",headers:Object(s.a)(Object(s.a)({},x),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},C=function(e){return fetch("".concat(k,"/search"),{method:"POST",headers:Object(s.a)(Object(s.a)({},x),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},N=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:"",books:[]},e.updateQuery=function(t){e.setState({query:t},e.updateBooks(t))},e.updateBooks=function(t){C(t.trim()?t.trim():"*").then((function(t){e.setState({books:void 0!==t&&Array.isArray(t)?t:[]},(function(){}))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.books;return Object(h.jsxs)("div",{children:[Object(h.jsx)(v.b,{to:"/",className:"back-link"}),Object(h.jsx)(d,{}),Object(h.jsx)("div",{class:"search-container",children:Object(h.jsx)("input",{class:"search-input",type:"text",placeholder:"Search...",value:n,onChange:function(t){return e.updateQuery(t.target.value)}})}),Object(h.jsx)(f,{books:a,onChangeShelf:this.props.onChangeShelf,booksInShelves:this.props.booksInShelves})]})}}]),n}(a.Component),S=n(2),T=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={books:[],currentTab:"currentlyReading"},e.onChangeShelf=function(t,n){e.setState((function(e){return{books:e.books.map((function(e){return e.title===n.title?Object(s.a)(Object(s.a)({},e),{},{shelf:t.target.value}):e}))}})),y(n,t.target.value)},e.onClickNav=function(t){e.setState({currentTab:t},(function(){}))},e.getShowingBooks=function(){return"all"!==e.state.currentTab?e.state.books.filter((function(t){return t.shelf===e.state.currentTab})):e.state.books},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(k,"/books"),{headers:x}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(t){e.setState({books:t})}))}},{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)(S.c,{children:[Object(h.jsx)(S.a,{path:"/",element:Object(h.jsxs)("div",{children:[Object(h.jsx)(v.b,{to:"/search",className:"add-book-button"}),Object(h.jsx)(d,{}),Object(h.jsx)(p,{currentTab:this.state.currentTab,onClickNav:this.onClickNav}),Object(h.jsx)(f,{books:this.getShowingBooks(),onChangeShelf:this.onChangeShelf})]})}),Object(h.jsx)(S.a,{path:"/search",element:Object(h.jsx)("div",{children:Object(h.jsx)(N,{booksInShelves:this.state.books,onChangeShelf:this.onChangeShelf})})})]})})}}]),n}(a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(v.a,{base:"/",children:Object(h.jsx)(T,{})})}),document.getElementById("root")),F()}},[[24,1,2]]]);
//# sourceMappingURL=main.6e2b1a65.chunk.js.map