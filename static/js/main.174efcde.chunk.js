(this["webpackJsonpbook-tracker-app"]=this["webpackJsonpbook-tracker-app"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(14),r=n.n(c),s=(n(21),n(5)),i=n(15),l=n(6),u=n(7),b=n(9),h=n(8),j=(n.p,n(22),n(1)),d=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("header",{className:"title-header",children:[Object(j.jsxs)("div",{className:"title-container",children:[Object(j.jsx)("h1",{className:"page-title",children:"The Booklet"}),Object(j.jsx)("p",{className:"page-subtitle",children:"Your best book tracker app!"})]}),Object(j.jsx)("div",{className:"bottom-right"}),Object(j.jsx)("div",{className:"bottom-left"})]})}}]),n}(a.Component),f=n(24),O=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).isSelected=function(e,t){return t===e?"true":void 0},e.authorTitle=function(e){var t="";return e.length>0&&(t+="By "+e[0]),e.length>1&&(t+=", et al."),t},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.books,a=t.onChangeShelf,o=t.booksInShelves;return Object(j.jsx)("div",{className:"list-items-grid",children:n.map((function(t,n){if(!f(t,"title"))return Object(j.jsx)("div",{});var c=t;if(o){var r=o.filter((function(e){return e.id===t.id}))[0];void 0!==r&&(c=r)}var s={thumbnail:f(c,"imageLinks.thumbnail")?c.imageLinks.thumbnail:"",authors:f(c,"authors")?e.authorTitle(c.authors):""};return Object(j.jsx)("div",{className:"list-item",children:Object(j.jsxs)("div",{className:"book-info-container",children:[Object(j.jsxs)("div",{className:"info-wrapper",children:[Object(j.jsx)("img",{className:"book-img",src:s.thumbnail}),Object(j.jsxs)("div",{className:"book-header",children:[Object(j.jsx)("h3",{className:"book-title",children:c.title}),Object(j.jsx)("p",{className:"book-rating",children:c.averageRating})]}),Object(j.jsx)("p",{className:"book-author",children:s.authors})]}),Object(j.jsxs)("div",{className:"form-container",children:[Object(j.jsx)("form",{children:Object(j.jsxs)("select",{value:c.shelf,onChange:function(e){return a(e,c)},className:"select-form",children:[Object(j.jsx)("option",{value:"none",children:"None"}),Object(j.jsx)("option",{value:"currentlyReading",children:"Currently reading"}),Object(j.jsx)("option",{value:"wantToRead",children:"Want to read"}),Object(j.jsx)("option",{value:"read",children:"Read"})]})}),Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("p",{children:c.shelf})," "]})]})]})},n)}))})}}]),n}(a.Component),m=n(4),k=n(16);function g(e){var t=[{All:"all","Currently reading":"currentlyReading","Want to read":"wantToRead",Read:"read"}],n=t.map((function(e){return Object.keys(e)}))[0],o=Object(a.useState)(Object.keys(t[0]).find((function(n){return t[0][n]===e.currentTab}))),c=Object(m.a)(o,2),r=c[0],s=c[1],i=Object(k.a)(n,r),l=Object(m.a)(i,2),u=l[0],b=l[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("nav",{className:"nav-tabs-container",children:[Object(j.jsx)("div",{className:"tab-bottom-line",style:{left:"calc((100% / ".concat(n.length,") * ").concat(n.findIndex((function(e){return e===u})),")"),width:"calc(100% / ".concat(n.length,")")}}),Object(j.jsx)("div",{className:"tab-links",children:n.map((function(n){return Object(j.jsx)("a",{className:"link",style:{color:u===n?"green":"black",background:u===n?"#e9e0d3":"#FAF8F5"},onClick:function(a){return r!==n?function(n,a){n.preventDefault();var o=n.target.dataset.tab;"string"===typeof o&&(b(o),s(a),"All"===a?(document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#e9e0d3",document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#FAF8F5"):"Read"===a?(document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#e9e0d3",document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#FAF8F5"):(document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#FAF8F5",document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#FAF8F5"),e.onClickNav(t[0][a]))}(a,n):function(){}},"data-tab":n,children:n},n)}))})]})})}var v=n(11),p="https://reactnd-books-api.udacity.com",x=localStorage.token;x||(x=localStorage.token=Math.random().toString(36).substr(-8));var y={Accept:"application/json",Authorization:x},C=function(e,t){return fetch("".concat(p,"/books/").concat(e.id),{method:"PUT",headers:Object(s.a)(Object(s.a)({},y),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},N=function(e){return fetch("".concat(p,"/search"),{method:"POST",headers:Object(s.a)(Object(s.a)({},y),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},S=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={query:"",books:[]},e.updateQuery=function(t){e.setState({query:t},e.updateBooks(t))},e.updateBooks=function(t){N(t.trim()?t.trim():"*").then((function(t){e.setState({books:void 0!==t&&Array.isArray(t)?t:[]},(function(){}))}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.query,a=t.books;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.b,{to:"/",className:"back-link"}),Object(j.jsx)(d,{}),Object(j.jsx)("div",{class:"search-container",children:Object(j.jsx)("input",{class:"search-input",type:"text",placeholder:"Search...",value:n,onChange:function(t){return e.updateQuery(t.target.value)}})}),Object(j.jsx)(O,{books:a,onChangeShelf:this.props.onChangeShelf,booksInShelves:this.props.booksInShelves})]})}}]),n}(a.Component),F=n(2),T=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={books:[],currentTab:"currentlyReading"},e.onChangeShelf=function(t,n){e.state.books.filter((function(e){return e.title===n.title})).length<1?e.setState({books:[].concat(Object(i.a)(e.state.books),[Object(s.a)(Object(s.a)({},n),{},{shelf:t.target.value})])},(function(){})):e.setState((function(e){return{books:e.books.map((function(e){return e.title===n.title?Object(s.a)(Object(s.a)({},e),{},{shelf:t.target.value}):e}))}}),(function(){})),C(n,t.target.value)},e.onClickNav=function(t){e.setState({currentTab:t},(function(){}))},e.getShowingBooks=function(){return"all"!==e.state.currentTab?e.state.books.filter((function(t){return t.shelf===e.state.currentTab})):e.state.books},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/books"),{headers:y}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(t){e.setState({books:t})}))}},{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(F.c,{children:[Object(j.jsx)(F.a,{path:"/",element:Object(j.jsxs)("div",{children:[Object(j.jsx)(v.b,{to:"/search",className:"add-book-button"}),Object(j.jsx)(d,{}),Object(j.jsx)(g,{currentTab:this.state.currentTab,onClickNav:this.onClickNav}),Object(j.jsx)(O,{books:this.getShowingBooks(),onChangeShelf:this.onChangeShelf})]})}),Object(j.jsx)(F.a,{path:"/search",element:Object(j.jsx)("div",{children:Object(j.jsx)(S,{booksInShelves:this.state.books,onChangeShelf:this.onChangeShelf})})})]})})}}]),n}(a.Component),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(v.a,{base:"/",children:Object(j.jsx)(T,{})})}),document.getElementById("root")),A()}},[[26,1,2]]]);
//# sourceMappingURL=main.174efcde.chunk.js.map