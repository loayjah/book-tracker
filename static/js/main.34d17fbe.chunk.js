(this["webpackJsonpbook-tracker-app"]=this["webpackJsonpbook-tracker-app"]||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(14),r=n.n(c),s=(n(21),n(5)),i=n(15),l=n(6),u=n(7),b=n(9),h=n(8),j=(n.p,n(22),n(1)),d=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("header",{className:"title-header",children:[Object(j.jsxs)("div",{className:"title-container",children:[Object(j.jsx)("h1",{className:"page-title",children:"The Booklet"}),Object(j.jsx)("p",{className:"page-subtitle",children:"Your best book tracker app!"})]}),Object(j.jsx)("div",{className:"bottom-right"}),Object(j.jsx)("div",{className:"bottom-left"})]})}}]),n}(a.Component),f=n(24),m=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).isSelected=function(t,e){return e===t?"true":void 0},t.authorTitle=function(t){var e="";return t.length>0&&(e+="By "+t[0]),t.length>1&&(e+=", et al."),e},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.books,a=e.onChangeShelf,o=e.booksInShelves;return Object(j.jsx)("div",{className:"list-items-grid",children:n.map((function(e,n){if(!f(e,"title"))return Object(j.jsx)("div",{});var c=e;if(o){var r=o.filter((function(t){return t.id===e.id}))[0];void 0!==r&&(c=r)}var s={thumbnail:f(c,"imageLinks.thumbnail")?c.imageLinks.thumbnail:"",authors:f(c,"authors")?t.authorTitle(c.authors):""};return Object(j.jsx)("div",{className:"list-item",children:Object(j.jsxs)("div",{className:"book-info-container",children:[Object(j.jsxs)("div",{className:"info-wrapper",children:[Object(j.jsx)("img",{className:"book-img",src:s.thumbnail}),Object(j.jsxs)("div",{className:"book-header",children:[Object(j.jsx)("h3",{className:"book-title",children:c.title}),Object(j.jsx)("p",{className:"book-rating",children:c.averageRating})]}),Object(j.jsx)("p",{className:"book-author",children:s.authors})]}),Object(j.jsx)("div",{className:"form-container",children:Object(j.jsx)("form",{children:Object(j.jsxs)("select",{value:c.shelf,onChange:function(t){return a(t,c)},className:"select-form",children:[Object(j.jsx)("option",{value:"none",children:"None"}),Object(j.jsx)("option",{value:"currentlyReading",children:"Currently reading"}),Object(j.jsx)("option",{value:"wantToRead",children:"Want to read"}),Object(j.jsx)("option",{value:"read",children:"Read"})]})})})]})},n)}))})}}]),n}(a.Component),O=n(4),k=n(16);function g(t){var e=[{All:"all","Currently reading":"currentlyReading","Want to read":"wantToRead",Read:"read"}],n=e.map((function(t){return Object.keys(t)}))[0],o=Object(a.useState)(Object.keys(e[0]).find((function(n){return e[0][n]===t.currentTab}))),c=Object(O.a)(o,2),r=c[0],s=c[1],i=Object(k.a)(n,r),l=Object(O.a)(i,2),u=l[0],b=l[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("nav",{className:"nav-tabs-container",children:[Object(j.jsx)("div",{className:"tab-bottom-line",style:{left:"calc((100% / ".concat(n.length,") * ").concat(n.findIndex((function(t){return t===u})),")"),width:"calc(100% / ".concat(n.length,")")}}),Object(j.jsx)("div",{className:"tab-links",children:n.map((function(n){return Object(j.jsx)("a",{className:"link",style:{color:u===n?"green":"black",background:u===n?"#e9e0d3":"#FAF8F5"},onClick:function(a){return r!==n?function(n,a){n.preventDefault();var o=n.target.dataset.tab;"string"===typeof o&&(b(o),s(a),"All"===a?(document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#e9e0d3",document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#FAF8F5"):"Read"===a?(document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#e9e0d3",document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#FAF8F5"):(document.getElementsByClassName("bottom-right")[0].style.backgroundColor="#FAF8F5",document.getElementsByClassName("bottom-left")[0].style.backgroundColor="#FAF8F5"),t.onClickNav(e[0][a]))}(a,n):function(){}},"data-tab":n,children:n},n)}))})]})})}var v=n(11),p="https://reactnd-books-api.udacity.com",y=localStorage.token;y||(y=localStorage.token=Math.random().toString(36).substr(-8));var x={Accept:"application/json",Authorization:y},C=function(t,e){return fetch("".concat(p,"/books/").concat(t.id),{method:"PUT",headers:Object(s.a)(Object(s.a)({},x),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then((function(t){return t.json()}))},N=function(t){return fetch("".concat(p,"/search"),{method:"POST",headers:Object(s.a)(Object(s.a)({},x),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:t})}).then((function(t){return t.json()})).then((function(t){return t.books}))},S=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={query:"",books:[]},t.updateQuery=function(e){t.setState({query:e},t.updateBooks(e))},t.updateBooks=function(e){N(e.trim()?e.trim():"*").then((function(e){t.setState({books:void 0!==e&&Array.isArray(e)?e:[]},(function(){}))}))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.query,a=e.books;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v.b,{to:"/",className:"back-link"}),Object(j.jsx)(d,{}),Object(j.jsx)("div",{class:"search-container",children:Object(j.jsx)("input",{class:"search-input",type:"text",placeholder:"Search...",value:n,onChange:function(e){return t.updateQuery(e.target.value)}})}),Object(j.jsx)(m,{books:a,onChangeShelf:this.props.onChangeShelf,booksInShelves:this.props.booksInShelves})]})}}]),n}(a.Component),F=n(2),T=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={books:[],currentTab:"currentlyReading"},t.onChangeShelf=function(e,n){t.state.books.filter((function(t){return t.title===n.title})).length<1?t.setState({books:[].concat(Object(i.a)(t.state.books),[Object(s.a)(Object(s.a)({},n),{},{shelf:e.target.value})])},(function(){})):t.setState((function(t){return{books:t.books.map((function(t){return t.title===n.title?Object(s.a)(Object(s.a)({},t),{},{shelf:e.target.value}):t}))}}),(function(){})),C(n,e.target.value)},t.onClickNav=function(e){t.setState({currentTab:e},(function(){}))},t.getShowingBooks=function(){return"all"!==t.state.currentTab?t.state.books.filter((function(e){return e.shelf===t.state.currentTab})):t.state.books},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(p,"/books"),{headers:x}).then((function(t){return t.json()})).then((function(t){return t.books})).then((function(e){t.setState({books:e})}))}},{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(F.c,{children:[Object(j.jsx)(F.a,{path:"/",element:Object(j.jsxs)("div",{children:[Object(j.jsx)(v.b,{to:"/search",className:"add-book-button"}),Object(j.jsx)(d,{}),Object(j.jsx)(g,{currentTab:this.state.currentTab,onClickNav:this.onClickNav}),Object(j.jsx)(m,{books:this.getShowingBooks(),onChangeShelf:this.onChangeShelf})]})}),Object(j.jsx)(F.a,{path:"/search",element:Object(j.jsx)("div",{children:Object(j.jsx)(S,{booksInShelves:this.state.books,onChangeShelf:this.onChangeShelf})})})]})})}}]),n}(a.Component),A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),o(t),c(t),r(t)}))};r.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(v.a,{base:"/",children:Object(j.jsx)(T,{})})}),document.getElementById("root")),A()}},[[26,1,2]]]);
//# sourceMappingURL=main.34d17fbe.chunk.js.map